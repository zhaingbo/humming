C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE STC15W4KPWM
OBJECT MODULE PLACED IN .\bin\stc15w4kpwm.obj
COMPILER INVOKED BY: d:\Keil\C51\BIN\C51.EXE usr\app\stc15w4kpwm.c BROWSE INCDIR(.\usr) DEBUG OBJECTEXTEND PRINT(.\listi
                    -ng\stc15w4kpwm.lst) OBJECT(.\bin\stc15w4kpwm.obj)

line level    source

   1          
   2          #include "stc15w4kpwm.h"
   3          #include "driver/nrf24l01.h"
   4          #include "timer.h"
   5          
   6          extern unsigned char RxBuf[20];
   7          
   8          void PWMGO()
   9          {
  10   1              int i = 1;
  11   1              //ËùÓÐI/O¿ÚÈ«ÉèÎª×¼Ë«Ïò£¬ÈõÉÏÀ­Ä£Ê½
  12   1              P0M0 = 0x00;
  13   1              P0M1 = 0x00;
  14   1              P1M0 = 0x00;
  15   1              P1M1 = 0x00;
  16   1              P2M0 = 0x00;
  17   1              P2M1 = 0x00;
  18   1              P3M0 = 0x00;
  19   1              P3M1 = 0x00;
  20   1              P4M0 = 0x00;
  21   1              P4M1 = 0x00;
  22   1              P5M0 = 0x00;
  23   1              P5M1 = 0x00;
  24   1              P6M0 = 0x00;
  25   1              P6M1 = 0x00;
  26   1              P7M0 = 0x00;
  27   1              P7M1 = 0x00;
  28   1              //ÉèÖÃÐèÒªÊ¹ÓÃµÄPWMÊä³ö¿ÚÎªÇ¿ÍÆÍìÄ£Ê½
  29   1              P2M0 = 0x0e;
  30   1              P2M1 = 0x00;
  31   1              P3M0 = 0x80;
  32   1              P3M1 = 0x00;
  33   1      
  34   1              //Ê¹ÓÃ¶¨Ê±Æ÷2×÷ÎªÊ±ÖÓÔ´
  35   1              timer2_init();
  36   1              P_SW2 = 0x80;  //×î¸ßÎ»ÖÃ1²ÅÄÜ·ÃÎÊºÍPWMÏà¹ØµÄÌØÊâ¼Ä´æÆ÷
  37   1              PWMCFG = 0xb0;  //7Î»    6Î»                5Î»    4Î»    3Î»    2Î»    1Î»    0Î»
  38   1              //ÖÃ0  1-¼ÆÊýÆ÷¹éÁã´¥·¢ADC C7INI  C6INI  C5INI  C4INI  C3INI  C2INI
  39   1              //     0-¹éÁãÊ±²»´¥·¢ADC       (ÖµÎª1Ê±ÉÏµç¸ßµçÆ½£¬Îª0µÍµçÆ½£©
  40   1              PWMCKS = 0x10;  //7Î»6Î»5Î»    4Î»             3Î»    2Î»    1Î»    0Î»
  41   1              //   ÖÃ0    0-ÏµÍ³Ê±ÖÓ·ÖÆµ          ·ÖÆµ²ÎÊýÉè¶¨
  42   1              //          1-¶¨Ê±Æ÷2Òç³ö       Ê±ÖÓ=ÏµÍ³Ê±ÖÓ/([3:0]+1)
  43   1              PWMIF = 0x00;   //7Î»    6Î»                5Î»    4Î»    3Î»    2Î»    1Î»    0Î»
  44   1              //ÖÃ0  ¼ÆÊýÆ÷¹éÁãÖÐ¶Ï±êÖ¾            ÏàÓ¦PWM¶Ë¿ÚÖÐ¶Ï±êÖ¾
  45   1              PWMFDCR = 0x00; //7Î»    6Î»       5Î»                4Î»
  46   1              //ÖÃ0    ÖÃ0 Íâ²¿Òì³£¼ì²â¿ª¹Ø  Íâ²¿Òì³£Ê±0-ÎÞ·´Ó¦ 1-¸ß×è×´Ì¬
  47   1              //3Î»             2Î»                 1Î»                0Î»
  48   1              //PWMÒì³£ÖÐ¶Ï  ±È½ÏÆ÷ÓëÒì³£µÄ¹ØÏµ   P2.4ÓëÒì³£µÄ¹ØÏµ  PWMÒì³£±êÖ¾
  49   1              PWMCH = 0x03;   //15Î»¼Ä´æÆ÷£¬¾ö¶¨PWMÖÜÆÚ£¬ÊýÖµÎª1-32767£¬µ¥Î»£ºÂö³åÊ±ÖÓ
  50   1              PWMCL = 0xe9;
  51   1              // ÒÔÏÂÎªÃ¿¸öPWMÊä³ö¿Úµ¥¶ÀÉèÖÃ
  52   1              PWM2CR = 0x00;  //7Î»6Î»5Î»4Î»   3Î»      2Î»       1Î»        0Î»
  53   1              //    ÖÃ0      Êä³öÇÐ»» ÖÐ¶Ï¿ª¹Ø T2ÖÐ¶Ï¿ª¹Ø T1ÖÐ¶Ï¿ª¹Ø
  54   1              PWM3CR = 0x00;
C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 2   

  55   1              PWM4CR = 0x00;
  56   1              PWM5CR = 0x00;
  57   1              PWM2T1H = 0x03;        //15Î»¼Ä´æÆ÷µÚÒ»´Î·­×ª¼ÆÊý  µÚÒ»´Î·­×ªÊÇÖ¸´ÓµÍµçÆ½·­×ªµ½¸ßµçÆ½µÄ¼ÆÊ±
  58   1              PWM2T1L = 0xe8;
  59   1              PWM2T2H = 0x03;        //15Î»¼Ä´æÆ÷µÚ¶þ´Î·­×ª¼ÆÊý  µÚ¶þ´Î·­×ªÊÇÖ¸´Ó¸ßµçÆ½·­×ªµ½µÍµçÆ½µÄ¼ÆÊ±
  60   1              PWM2T2L = 0xe9;        //µÚ¶þ´Î·­×ªÓ¦±È¾«¶ÈµÈ¼¶Òª¸ß£¬·ñÔò»á¹¤×÷²»Õý³££¬±ÈÈç¾«¶È1000£¬µÚ¶þ´Î·­×ª¾Í±ØÐëÐ¡ÓÚ
             -1000
  61   1              PWM3T1H = 0x03;
  62   1              PWM3T1L = 0xe8;
  63   1              PWM3T2H = 0x03;
  64   1              PWM3T2L = 0xe9;
  65   1              PWM4T1H = 0x03;
  66   1              PWM4T1L = 0xe8;
  67   1              PWM4T2H = 0x03;
  68   1              PWM4T2L = 0xe9;
  69   1              PWM5T1H = 0x03;
  70   1              PWM5T1L = 0xe8;
  71   1              PWM5T2H = 0x03;
  72   1              PWM5T2L = 0xe9;
  73   1              //ÒÔÉÏÎªÃ¿¸öPWMÊä³ö¿Úµ¥¶ÀÉèÖÃ
  74   1              PWMCR = 0x8f;   //7Î»          6Î»                5Î» 4Î» 3Î» 2Î» 1Î» 0Î»     10001111
  75   1              //PWM¿ª¹Ø ¼ÆÊý¹éÁãÖÐ¶Ï¿ª¹Ø   ÏàÓ¦I/OÎªGPIOÄ£Ê½(0)»òPWMÄ£Ê½(1)
  76   1              //*********************************ÒÔÏÂÎª×°±ÆÄ£Äâµçµ÷µÄÉùÒô**********************************************
             -********
  77   1              PWM(960, 960, 960, 960);
  78   1              Delay(60000);
  79   1              Delay(30000);
  80   1              T2L = 0xE8;
  81   1              T2H = 0xFF;
  82   1              Delay(60000);
  83   1              Delay(30000);
  84   1              T2L = 0xE5;
  85   1              T2H = 0xFF;
  86   1              Delay(60000);
  87   1              Delay(30000);
  88   1              PWM(1000, 1000, 1000, 1000);
  89   1              Delay(60000);
  90   1              Delay(60000);
  91   1              Delay(60000);
  92   1              Delay(60000);
  93   1              T2L = 0xE5;
  94   1              T2H = 0xFF;
  95   1              PWM(960, 960, 960, 960);
  96   1              Delay(60000);
  97   1              Delay(30000);
  98   1              PWM(1000, 1000, 1000, 1000);
  99   1              Delay(60000);
 100   1              PWM(960, 960, 960, 960);
 101   1              Delay(60000);
 102   1              Delay(30000);
 103   1              PWM(1000, 1000, 1000, 1000);
 104   1              Delay(60000);
 105   1              PWM(960, 960, 960, 960);
 106   1              Delay(60000);
 107   1              Delay(30000);
 108   1              PWM(1000, 1000, 1000, 1000);
 109   1              init_NRF24L01();//³õÊ¼»¯ÎÞÏßÄ£¿é
 110   1              SetRX_Mode();
 111   1      
 112   1              while (i) {
 113   2                      if (RxBuf[0] == 0) {
 114   3                              Delay(60000);
C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 3   

 115   3                              Delay(60000);
 116   3                              Delay(60000);
 117   3                              Delay(60000);
 118   3                              Delay(60000);
 119   3                              Delay(60000);
 120   3                              Delay(60000);
 121   3                              Delay(60000);
 122   3                              Delay(60000);
 123   3                              Delay(60000);
 124   3                              Delay(60000);
 125   3                              Delay(60000);
 126   3                              playmusic(4);
 127   3                      }
 128   2      
 129   2                      if (RxBuf[0] == 0) {
 130   3                              Delay(60000);
 131   3                              Delay(60000);
 132   3                              Delay(60000);
 133   3                              Delay(60000);
 134   3                              Delay(60000);
 135   3                              Delay(60000);
 136   3                              Delay(60000);
 137   3                              Delay(60000);
 138   3                              Delay(60000);
 139   3                              Delay(60000);
 140   3                              Delay(60000);
 141   3                              Delay(60000);
 142   3                              playmusic(2);
 143   3                      }
 144   2      
 145   2                      if (RxBuf[0] == 0) {
 146   3                              Delay(60000);
 147   3                              Delay(60000);
 148   3                              Delay(60000);
 149   3                              Delay(60000);
 150   3                              Delay(60000);
 151   3                              Delay(60000);
 152   3                              Delay(60000);
 153   3                              Delay(60000);
 154   3                              Delay(60000);
 155   3                              Delay(60000);
 156   3                              Delay(60000);
 157   3                              Delay(60000);
 158   3                              playmusic(1);
 159   3                      }
 160   2      
 161   2                      if (RxBuf[0] == 0) {
 162   3                              Delay(60000);
 163   3                              Delay(60000);
 164   3                              Delay(60000);
 165   3                              Delay(60000);
 166   3                              Delay(60000);
 167   3                              Delay(60000);
 168   3                              Delay(60000);
 169   3                              Delay(60000);
 170   3                              Delay(60000);
 171   3                              Delay(60000);
 172   3                              Delay(60000);
 173   3                              Delay(60000);
 174   3                              playmusic(3);
 175   3                      }
 176   2      
C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 4   

 177   2                      nRF24L01_RxPacket(RxBuf);
 178   2      
 179   2                      if (RxBuf[0] > 0) {i = 0;}
 180   2              }
 181   1      
 182   1              T2L = 0xE5;
 183   1              PWM(960, 960, 960, 960);
 184   1              Delay(60000);
 185   1              Delay(60000);
 186   1              Delay(60000);
 187   1              Delay(60000);
 188   1              Delay(60000);
 189   1              Delay(60000);
 190   1              PWM(1000, 1000, 1000, 1000);
 191   1              //**************************************ÒÔÉÏÎª×°±ÆÄ£Äâµçµ÷µÄÉùÒô*****************************************
             -*********
 192   1              PWMCKS = 0x00;
 193   1      }
 194          //±¾º¯ÊýÊäÈëµÄ4¸öÖµÈ¡Öµ·¶Î§Îª0-1000 1000µç»úÍ££¬0×ªËÙ×î¸ß£¬ÊäÈëÊý¾Ý²»ÄÜ³¬¹ýÈ¡Öµ·¶Î§£¬·ñÔò»á´óÒÌÂè
 195          void PWM(unsigned int PWMa, unsigned int PWMb, unsigned int PWMc, unsigned int PWMd)
 196          {
 197   1              PWM2T1H = PWMa >> 8;      //15Î»¼Ä´æÆ÷µÚÒ»´Î·­×ª¼ÆÊý  µÚÒ»´Î·­×ªÊÇÖ¸´ÓµÍµçÆ½·­×ªµ½¸ßµçÆ½µÄ¼ÆÊ±
 198   1              PWM2T1L = PWMa;
 199   1              PWM3T1H = PWMb >> 8;
 200   1              PWM3T1L = PWMb;
 201   1              PWM4T1H = PWMc >> 8;
 202   1              PWM4T1L = PWMc;
 203   1              PWM5T1H = PWMd >> 8;
 204   1              PWM5T1L = PWMd;
 205   1      }
 206          
 207          //    ¸ßÒô             ÖÐÒô
 208          //1 T2L = 0xE5,     T2L = 0xCB;
 209          //2 T2L = 0xE8,     T2L = 0xD0;
 210          //3 T2L = 0xEB,     T2L = 0xD6;
 211          //4 T2L = 0xEC,     T2L = 0xD8;
 212          //5 T2L = 0xEE,     T2L = 0xDC;
 213          //6 T2L = 0xF0,     T2L = 0xE0;
 214          //7 T2L = 0xF2,     T2L = 0xE4;
 215          unsigned char code high[] = {0x00, 0xE5, 0xE8, 0xEB, 0xEC, 0xEE, 0xF0, 0xF2}; //Ä¬ÈÏÎª¸ßÒô
 216          unsigned char code mid[] = {0x00, 0xCB, 0xD0, 0xD6, 0xD8, 0xDC, 0xE0, 0xE4}; //Ðè²¥·ÅÖÐÒô¶ÔÒô·û¼Ó10¼´¿É£¬±
             -ÈÈç1Îª¶ß¸ßÒô£¬11¾ÍÎª¶ßÖÐÒô
 217          //1155665  4433221 5544332 5544332 1155665 4433221 Ð¡ÐÇÐÇ
 218          unsigned char code music1[] = {1, 1, 5, 5, 6, 6, 5, 0, 4, 4, 3, 3, 2, 2, 1, 0,
 219                                         5, 5, 4, 4, 3, 3, 2, 0, 5, 5, 4, 4, 3, 3, 2, 0,
 220                                         1, 1, 5, 5, 6, 6, 5, 0, 4, 4, 3, 3, 2, 2, 1, 0, 0xff
 221                                        };
 222          //5175565 5175636 6665334 44456342 5175565 5175636 66653334 44431121 Õ÷·þ
 223          unsigned char code music2[] = {15, 1, 17, 15, 15, 16, 15, 0, 15, 1, 17, 15, 16, 13, 16, 0,
 224                                         16, 16, 16, 15, 13, 13, 14, 0, 14, 14, 14, 15, 16, 13, 14, 12, 0, //Ã¿Ê×¸èÇ
             -ú±ØÐëÒÔ0xFF½áÎ²
 225                                         15, 1, 17, 15, 15, 16, 15, 0, 15, 1, 17, 15, 16, 13, 16, 0, //ÖÐ¼äÈçÐèÍ£¶Ù£
             -¬ÒÔ0´úÌæ£¬0¾ÍÊÇÍ£¶ÙÒ»¸öÒô·û
 226                                         16, 16, 16, 15, 13, 13, 13, 14, 0, 14, 14, 14, 13, 11, 11, 12, 11, 0, 0xff
 227                                        };
 228          //5154321 11233135 5154352 4326521 53617653 2221765 53617672 5671251 ÎÒ°®±±¾©Ìì°²ÃÅ
 229          unsigned char code music3[] = {15, 1, 15, 14, 13, 12, 11, 0, 11, 11, 12, 13, 13, 11, 13, 15, 0,
 230                                         15, 1, 15, 14, 13, 15, 12, 0, 14, 13, 12, 16, 15, 12, 11, 0,
 231                                         15, 13, 16, 1, 17, 16, 15, 0, 2, 2, 2, 1, 17, 16, 15, 0,
 232                                         15, 13, 16, 1, 17, 17, 2, 0, 15, 16, 17, 1, 2, 15, 1, 0, 0xff
 233                                        };
 234          //Çé¸èÍõ
C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 5   

 235          unsigned char code music4[] = {13, 0, 15, 4, 3, 2, 2, 3, 2, 1, 1, 16, 1, 0, 0, 15, 16, 1, 2, 0, 3, 0, 15, 
             -4, 3, 2, 0, 3, 0, 2, 1, 1, 16, 1, 0, 3, 4, 5, 1, 17, 1, 0, 1, 2, 1, 5, 1, 17, 1, 0, 1, 1, 1, 7, 7, 7, 6, 6, 6, 6, 6, 5, 
             -3, 4, 3, 4, 4, 5, 5, 15, 15, 14, 13, 12, 5, 0, 5, 5, 5, 4, 3, 2, 1, 1, 2, 3, 0, 2, 1, 17, 16, 2, 1, 3, 15, 5, 5, 5, 4, 3
             -, 4, 3, 1, 2, 15, 5, 4, 3, 3, 4, 3, 3, 4, 3, 4, 3, 2, 1, 0, 1, 3, 5, 6, 6, 6, 5, 2, 2, 4, 3, 0, 0, 1, 3, 5, 6, 6, 6, 5, 
             -2, 2, 4, 3, 4, 3, 2, 1, 1, 1, 2, 3, 1, 16, 2, 7, 7, 7, 1, 1, 15, 16, 11, 1, 2, 3, 3, 5, 2, 3, 2, 2, 5, 2, 1, 15, 16, 17,
             - 1, 0, 0, 15, 5, 3, 2, 1, 0, 15, 5, 3, 2, 3, 2, 2, 1, 0, 1, 1, 7, 7, 16, 5, 6, 5, 3, 5, 0, 1, 1, 7, 7, 6, 0, 5, 5, 1, 3,
             - 2, 1, 3, 4, 3, 1, 16, 1, 6, 15, 0, 5, 0, 3, 3, 5, 16, 0, 2, 2, 4, 13, 0, 1, 1, 17, 1, 6, 3, 2, 1, 2, 0, 5, 0, 0, 3, 5, 
             -5, 5, 5, 5, 3, 5, 0, 3, 5, 5, 5, 5, 3, 2, 1, 0, 3, 5, 5,
 236                                         6, 1, 1, 0, 5, 5, 5, 6, 1, 1, 0, 5, 5, 5, 6, 1, 1, 1, 1, 1, 7, 7, 7, 0, 3, 
             -0, 3, 0, 3, 2, 1, 1, 1, 1, 1, 2, 2, 1, 1, 0, 1, 2, 1, 3, 5, 3, 6, 5, 3, 2, 1, 2, 2, 3, 1, 1, 0, 17, 11, 12, 13, 13, 13, 
             -13, 14, 13, 12, 11, 12, 17, 11, 12, 12, 12, 13, 13, 12, 11, 17, 11, 16, 17, 11, 16, 11, 11, 11, 11, 11, 11, 12, 12, 11, 
             -15, 0, 0, 1, 2, 4, 5, 3, 3, 2, 1, 2, 2, 2, 2, 3, 1, 2, 2, 1, 0, 15, 16, 1, 3, 3, 3, 2, 1, 2, 2, 2, 3, 2, 1, 0, 0, 15, 3,
             - 3, 3, 2, 2, 0, 16, 17, 16, 16, 0, 2, 0, 16, 3, 3, 3, 2, 1, 2, 2, 2, 3, 2, 1, 0, 16, 16, 17, 1, 17, 1, 3, 3, 4, 17, 16, 
             -15, 2, 2, 3, 16, 15, 16, 16, 17, 1, 1, 2, 2, 2, 1, 17, 0, 0, 4, 4, 4, 3, 4, 3, 2, 2, 2, 2, 3, 3, 3, 2, 1, 1, 1, 2, 2, 2,
             - 2, 1, 17, 0, 17, 17, 17, 17, 1, 17, 6, 0, 3, 2, 0, 3, 1, 0, 1, 17, 15, 16, 0, 1, 2, 30, 1, 3, 0, 0, 3, 3, 3, 3, 3, 3, 4
             -, 3, 2, 1, 16, 16, 4, 4, 3, 1, 2, 1, 0, 15, 1, 15, 1, 2, 3, 15, 15, 15, 4, 3, 3, 2, 2, 2, 16, 3, 2, 1, 1, 1, 16, 2, 1, 1
             -, 0, 15, 1, 15, 1, 2, 3, 15, 15, 15, 4, 3, 3, 2, 2, 2, 16, 3, 1, 1, 1, 1, 16, 2, 1, 16, 1, 17, 0, 0, 15, 16, 1, 1, 1, 1,
             - 1, 16, 1, 0, 2, 2, 1, 1, 1, 16, 15, 15, 15, 15, 16, 1, 16, 2, 1, 1, 1, 17, 17, 17, 17, 1, 2, 3, 2, 1, 2, 2, 2, 1, 2, 1,
 237                                         16, 15, 16, 15, 16, 1, 1, 16, 1, 16, 3, 2, 2, 1, 16, 2, 1, 0, 15, 16, 1, 0,
             - 1, 1, 1, 1, 16, 1, 15, 16, 15, 15, 16, 15, 15, 16, 1, 1, 16, 16, 15, 15, 13, 12, 13, 12, 12, 13, 12, 12, 13, 15, 15, 15
             -, 13, 12, 15, 16, 1, 0, 16, 15, 16, 1, 1, 16, 13, 15, 16, 1, 0, 16, 15, 16, 1, 1, 16, 15, 13, 12, 11, 12, 13, 15, 16, 15
             -, 16, 1, 16, 0, 1, 16, 15, 13, 12, 11, 12, 13, 12, 13, 11, 0, 15, 16, 1, 16, 1, 16, 15, 16, 1, 3, 13, 13, 12, 12, 12, 12
             -, 11, 13, 12, 15, 16, 1, 16, 1, 16, 15, 16, 1, 3, 0, 13, 13, 12, 13, 13, 12, 13, 12, 11, 0, 0, 15, 15, 16, 11, 11, 11, 1
             -2, 13, 13, 13, 15, 16, 1, 15, 16, 15, 13, 13, 15, 12, 12, 13, 12, 11, 16, 16, 11, 12, 12, 13, 12, 11, 15, 15, 1, 17, 15,
             - 15, 16, 15, 0, 15, 1, 17, 15, 16, 13, 16, 16, 16, 16, 15, 13, 13, 13, 14, 14, 14, 15, 16, 13, 0, 12, 0, 15, 0, 15, 2, 1
             -7, 1, 0, 13, 14, 15, 16, 16, 16, 16, 15, 16, 16, 15, 16, 16, 16, 12, 2, 1, 2, 2, 2, 1, 1, 17, 17, 17, 17, 17, 1, 17, 15,
             - 16, 0, 12, 13, 14, 13, 11, 14, 13, 11, 11, 0, 0, 1, 2, 2, 1, 0, 15, 5, 3, 2, 3, 0, 1, 2, 2, 1, 0, 15, 5, 3, 2, 1,
 238                                         1, 2, 2, 1, 0, 15, 3, 2, 15, 3, 2, 1, 2, 3, 1, 16, 15, 16, 14, 0, 16, 1, 16
             -, 3, 2, 2, 1, 0, 16, 1, 16, 3, 2, 1, 3, 17, 15, 17, 1, 2, 1, 16, 1, 2, 3, 2, 16, 1, 2, 3, 2, 13, 3, 3, 3, 17, 2, 3, 0, 1
             -5, 15, 16, 1, 16, 2, 3, 0, 15, 5, 3, 2, 1, 3, 3, 4, 16, 3, 2, 2, 1, 3, 4, 3, 3, 2, 2, 2, 3, 2, 1, 6, 5, 3, 2, 3, 3, 2, 1
             -, 16, 1, 1, 15, 1, 3, 2, 2, 2, 2, 2, 1, 2, 1, 16, 6, 5, 3, 2, 3, 3, 2, 1, 16, 1, 1, 15, 1, 3, 2, 2, 2, 2, 2, 5, 2, 2, 1,
             - 2, 3, 0, 13, 16, 17, 1, 1, 1, 17, 16, 15, 17, 2, 4, 3, 0, 1, 2, 3, 5, 4, 3, 2, 1, 2, 16, 17, 13, 16, 17, 1, 1, 2, 1, 17
             -, 16, 15, 17, 4, 3, 0, 1, 12, 3, 5, 4, 3, 2, 1, 2, 2, 3, 2, 1, 1, 0, 4, 5, 1, 14, 14, 0, 1, 17, 16, 15, 15, 0, 16, 16, 1
             -6, 1, 14, 14, 0, 14, 14, 13, 12, 13, 0, 16, 17, 1, 14, 14, 0, 1, 17, 16, 14, 14, 15, 14, 0, 15, 14, 13, 11, 11, 12, 0, 1
             -2, 13, 0, 13, 13, 14, 15, 15, 14, 13, 11, 15, 15, 14, 13, 11, 15, 12, 13, 0, 13, 13, 14, 15, 15, 1, 11, 11, 11, 15, 14, 
             -13, 11, 15, 13, 13, 15, 12, 11, 12, 13, 13, 16, 11, 0, 11, 11, 17, 0, 16, 17, 11, 0, 0,
 239                                         15, 1, 2, 3, 2, 1, 1, 1, 5, 0, 3, 5, 5, 3, 3, 2, 3, 4, 5, 0, 3, 2, 2, 1, 1,
             - 16, 1, 2, 16, 0, 15, 15, 16, 1, 1, 16, 1, 16, 1, 12, 13, 0, 17, 17, 1, 11, 12, 16, 15, 16, 15, 0, 11, 11, 11, 11, 12, 1
             -5, 13, 15, 13, 0, 16, 16, 16, 17, 11, 11, 11, 15, 12, 13, 0, 12, 12, 16, 13, 12, 12, 11, 16, 12, 11, 0, 15, 0, 15, 15, 1
             -3, 16, 15, 13, 0, 13, 0, 12, 11, 0, 11, 1, 1, 1, 1, 16, 16, 13, 15, 0, 15, 15, 16, 1, 16, 1, 0, 16, 15, 15, 11, 0, 16, 1
             -1, 13, 12, 11, 11, 15, 11, 0, 1, 2, 2, 2, 1, 6, 0, 2, 3, 4, 5, 0, 1, 2, 3, 5, 4, 4, 3, 4, 3, 2, 2, 3, 0, 1, 2, 1, 6, 0, 
             -7, 1, 2, 2, 1, 0, 0, 4, 3, 2, 1, 1, 3, 4, 4, 5, 4, 6, 1, 7, 7, 6, 5, 0, 3, 2, 1, 5, 3, 3, 0, 3, 0
 240                                        };
 241          void playmusic(unsigned char i)
 242          {
 243   1              int j = 1, k = 0;
 244   1              T2H = 0xFF;
 245   1              PWM(960, 960, 960, 960);
 246   1      
 247   1              if (i == 1) {
 248   2                      while (j) {
 249   3                              nRF24L01_RxPacket(RxBuf);
 250   3      
 251   3                              if (RxBuf[0] > 0) {break;}
 252   3      
 253   3                              if (music1[k] == 0x00) {PWM(1000, 1000, 1000, 1000); Delay(60000); Delay(60000); Delay(60000); PWM(960,
             - 960, 960, 960); k++;}
 254   3      
 255   3                              if (music1[k] < 10) {T2L = high[music1[k]];}
 256   3                              else {T2L = mid[music1[k] - 10];}
 257   3      
 258   3                              k++;
C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 6   

 259   3      
 260   3                              if (music1[k] == 0xff) {j = 0;}
 261   3      
 262   3                              Delay(60000);
 263   3                              Delay(60000);
 264   3                              PWM(1000, 1000, 1000, 1000);
 265   3                              Delay(30000);
 266   3                              PWM(960, 960, 960, 960);
 267   3                      }
 268   2              }
 269   1      
 270   1              if (i == 2) {
 271   2                      while (j) {
 272   3                              nRF24L01_RxPacket(RxBuf);
 273   3      
 274   3                              if (RxBuf[0] > 0) {break;}
 275   3      
 276   3                              if (music2[k] == 0x00) {PWM(1000, 1000, 1000, 1000); Delay(60000); Delay(60000); Delay(60000); PWM(960,
             - 960, 960, 960); k++;}
 277   3      
 278   3                              if (music2[k] < 10) {T2L = high[music2[k]];}
 279   3                              else {T2L = mid[music2[k] - 10];}
 280   3      
 281   3                              k++;
 282   3      
 283   3                              if (music2[k] == 0xff) {j = 0;}
 284   3      
 285   3                              Delay(65000);
 286   3                              Delay(65000);
 287   3                              PWM(1000, 1000, 1000, 1000);
 288   3                              Delay(30000);
 289   3                              PWM(960, 960, 960, 960);
 290   3                      }
 291   2              }
 292   1      
 293   1              if (i == 3) {
 294   2                      while (j) {
 295   3                              nRF24L01_RxPacket(RxBuf);
 296   3      
 297   3                              if (RxBuf[0] > 0) {break;}
 298   3      
 299   3                              if (music3[k] == 0x00) {PWM(1000, 1000, 1000, 1000); Delay(60000); Delay(30000); PWM(960, 960, 960, 960
             -); k++;}
 300   3      
 301   3                              if (music3[k] < 10) {T2L = high[music3[k]];}
 302   3                              else {T2L = mid[music3[k] - 10];}
 303   3      
 304   3                              k++;
 305   3      
 306   3                              if (music3[k] == 0xff) {j = 0;}
 307   3      
 308   3                              Delay(60000);
 309   3                              Delay(60000);
 310   3                              PWM(1000, 1000, 1000, 1000);
 311   3                              Delay(30000);
 312   3                              PWM(960, 960, 960, 960);
 313   3                      }
 314   2              }
 315   1      
 316   1              if (i == 4) {
 317   2                      while (j) {
 318   3                              nRF24L01_RxPacket(RxBuf);
C51 COMPILER V9.00   STC15W4KPWM                                                           05/12/2016 16:55:54 PAGE 7   

 319   3      
 320   3                              if (RxBuf[0] > 0) {break;}
 321   3      
 322   3      ERROR:
 323   3                              ;
 324   3      
 325   3                              if (music4[k] == 0x00) {PWM(1000, 1000, 1000, 1000); Delay(60000); PWM(960, 960, 960, 960); k++; goto E
             -RROR;}
 326   3      
 327   3                              if (music4[k] < 10) {T2L = high[music4[k]];}
 328   3                              else {T2L = mid[music4[k] - 10];}
 329   3      
 330   3                              k++;
 331   3      
 332   3                              if (music4[k] == 0xff) {j = 0;}
 333   3      
 334   3                              Delay(65000);
 335   3                              Delay(65000);
 336   3                              PWM(1000, 1000, 1000, 1000);
 337   3                              Delay(30000);
 338   3                              PWM(960, 960, 960, 960);
 339   3                      }
 340   2              }
 341   1      
 342   1              PWM(1000, 1000, 1000, 1000);
 343   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1882    ----
   CONSTANT SIZE    =   1587    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      15
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
